<nz-card [nzBordered]="false" [nzHoverable]="true" [nzTitle]="name">
  <form nz-form [formGroup]="validateForm">
    <div nz-row [nzGutter]="40">
      <div nz-col [nzSpan]="8" *ngFor="let control of controlArray">
        <nz-form-item nz-row>
          <nz-form-label nz-col [nzSpan]="5" [nzFor]="control.control">{{control.name}}</nz-form-label>
          <nz-form-control nz-col [nzSpan]="19">
            <input nz-input [placeholder]="control.name" [formControlName]="control.control" [attr.id]="control.control">
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div nz-row >
      <div nz-col [nzSpan]="24" style="text-align: center">
        <button nz-button [nzType]="'primary'" (click)="_query()" style="margin: auto 10px;">搜索</button>
        <button nz-button (click)="resetForm()" style="margin: auto 10px;">清空</button>
      </div>
    </div>
  </form>
</nz-card>

<nz-card [nzBordered]="false" [nzHoverable]="true" style="margin-top:16px;" *ngIf="showSearchFlag">
  <div style="margin-top:16px;">
    <nz-table #nzTable [nzData]="devInfoData" [nzPageSize]="10" [nzShowPagination]="false" [nzLoading]="tloading">
      <thead>
        <tr>
          <th>SN</th>
          <th>IMEI</th>
          <th>MCODE</th>
          <th>CCID</th>
          <th>激活状态</th>
          <th>激活类型</th>
          <th>修改时间</th>
        </tr>
      </thead>
      <tbody *ngFor="let data of nzTable.data">
        <tr>
          <td>{{data.sn}}</td>
          <td>{{data.imei}}</td>
          <td>{{data.mcode}}</td>
          <td>{{data.ccid}}</td>
          <td>{{data.activate === -1?'已激活（老设备）':(data.activate===0?'已激活':(data.activate===1?'未激活':data.activate===2?'停用设备':''))}}</td>
          <td>{{data.type}}</td>
          <td>{{data.change_time}}</td>
        </tr>
      </tbody>
    </nz-table>
    <div style="margin-top:16px;">
      <nz-pagination [nzPageIndex]="1" [nzTotal]="total" [nzPageSize]="10" [nzShowQuickJumper]="true" (click)="clickIndex()" [(nzPageIndex)]="index" *ngIf="showSearchFlag"></nz-pagination>
    </div>
  </div>
</nz-card>

<nz-spin [nzTip]="'正在读取数据...'" *ngIf="loadingFlag" [nzSize]="'large'">
  <div style="width:100%;height:100%"></div>
</nz-spin>
